<!DOCTYPE html>
<html lang="ru" class="no-webplossy no-avif">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/media.css" />
    <title>prj</title>

    <script>
      var imageData = {
        avif: 'data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=',
        webp: 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA',
      };
  
      // Функция проверки написана на основе документации Google:
      // https://developers.google.com/speed/webp/faq#in_your_own_javascript
  
      function checkImageFormatSupport(imageFormat, callback) {
        var img = new Image();
        
        img.src = imageData[imageFormat];
        
        img.onload = function () { var result = (img.width > 0) && (img.height > 0); callback(result); };
        img.onerror = function () { callback(false); };
      }
  
      // Проверяем поддержку WebP Lossy (сжатие с потерями)
      
      checkImageFormatSupport('webp', function (isWebpLossySupported) {
        if (isWebpLossySupported) {
          document.documentElement.className = document.documentElement.className.replace('no-webplossy', 'webplossy');
        }
      });
  
      // Проверяем поддержку AVIF
    
      checkImageFormatSupport('avif', function (isAvifSupported) {
        if (isAvifSupported) {
          document.documentElement.className = document.documentElement.className.replace('no-avif', 'avif');
        }
      });
  </script>

  </head>
  <body>

   <picture>
      <source srcset="img/avif/quadBike.avif" type="image/avif" />
      <source srcset="img/webp/quadBike.webp" type="image/webp" />
      <source srcset="img/png/quadBike.png" />
      <img src="img/png/quadBike.png" alt="" />
    </picture>


   <script src="js/index.js"></script>
  </body>
</html>
